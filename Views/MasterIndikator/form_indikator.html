{extends file="../Shared/core2.master.html"}
{block name=bodycontent}
<div class="card">
  <div class="card-header">
    <strong>Form Master Indikator</strong>
  </div>
  <div class="card-body">
    <form action="{$baseUrl}/masterindikator/save" method="post" enctype="multipart/form-data" class="form-horizontal">
      <div class="form-group row">
        <label class="col-md-3 col-form-label">Standar SPMI</label>
        <div class="col-md-9">
            <select class="js-example-basic-single" name="id_standar" id="id_standar" required>
              {foreach from=$listdatastandar item=itemdataindstandar}	
              <option value={$itemdataindstandar.id}>{$itemdataindstandar.nama_standar}</option>
              {/foreach}
            </select>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-3 col-form-label">ID Indikator</label>
        <div class="col-md-9">
          <input type="text" id="id" name="id" class="form-control" placeholder="ID Indikator" value="{$datanya.id}" readonly required> 
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-3 col-form-label">No. Indikator</label>
        <div class="col-md-9">
          <input type="text" id="no_indikator" name="no_indikator" class="form-control" placeholder="No. Indikator" value="{$datanya.no_indikator}" required>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-3 col-form-label" for="text-input">Nama Indikator</label>
        <div class="col-md-9">
          <input type="text" id="nama_indikator" name="nama_indikator" class="form-control" placeholder="Nama Indikator" value="{$datanya.nama_indikator}" required>
        </div>
      </div>   
      <div class="form-group row">
        <label class="col-md-3 col-form-label">Flag</label>
        <div class="col-md-9">
            <select class="js-example-basic-single" name="flag" id="flag" required>
              <option value="P">Indikator</option>
              <option value="S">Sub Indikator</option>
              <option value="C">Sub Sub Indikator</option>
            </select>          
        </div>
      </div>      
      <div class="form-group row">
        <label class="col-md-3 col-form-label">Generate Indikator</label>
        <div class="col-md-9">
          <div class="checkbox">
            <label for="generate">
              <input type="checkbox" id="generate" name="generate" value="{$datanya.generate}" onchange="setCBGenerate()">
            </label>
          </div>
        </div>
      </div>    
      <div class="form-group row">
        <label class="col-md-3 col-form-label" for="text-input">Kondisi Saat Ini</label>
        <div class="col-md-9">
          <input type="text" id="kondisi_saat_ini" name="kondisi_saat_ini" class="form-control" placeholder="Kondisi Saat Ini" value="{$datanya.kondisi_saat_ini}" required>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-md-3 col-form-label" for="text-input">Kondisi Ideal</label>
        <div class="col-md-9">
          <input type="text" id="kondisi_ideal" name="kondisi_ideal" class="form-control" placeholder="Kondisi Ideal" value="{$datanya.kondisi_ideal}" required>
        </div>
      </div>  
      <div class="card-footer">
          <input type="hidden" id="flag_update" name="flag_update" value="{$datanya.flag}">
          <input type="hidden" id="id_standar_update" name="id_standar_update" value="{$datanya.id_standar}">
          <button type="submit" class="btn btn-sm btn-primary"><i class="fa fa-dot-circle-o"></i> Submit</button>
          <button type="reset" class="btn btn-sm btn-danger"><i class="fa fa-ban"></i> Reset</button>
        </div>
    </form>
  </div>      
</div>
{/block}          
{block name=scriptcontent}
<link rel="stylesheet" type="text/css" href="{$baseUrl}/assets/vendor/datatables/jquery.dataTables.min.css"/>
<script src="{$baseUrl}/assets/vendor/datatables/jquery.dataTables.min.js"></script>
<link rel="stylesheet" type="text/css" href="{$baseUrl}/assets/vendor/select2/select2.min.css"/>
<script src="{$baseUrl}/assets/vendor/select2/select2.min.js"></script>

<script type="text/javascript">	

// if(document.getElementById("id_standar_update").value != null && document.getElementById("id_standar_update").value!= "" && document.getElementById("id_standar_update").value != 0)
// {
//   document.getElementById("id_standar").readonly = true;
// } else {
//   document.getElementById("id_standar").readonly = false;
// }
document.getElementById("flag").value = document.getElementById("flag_update").value;
document.getElementById("id_standar").value = document.getElementById("id_standar_update").value;
 
$(document).ready(function()
{         	
    $(".js-example-basic-single").select2({
      width: '50%' // need to override the changed default
    });
});

if(document.getElementById("generate").value == 1) {
  document.getElementById("generate").checked = true;
} 

function setCBGenerate() {
  if (document.getElementById("generate").checked) {
    document.getElementById("generate").value = 1;
  } else {
    document.getElementById("generate").value = 0;
  }
}
</script>
{/block}    